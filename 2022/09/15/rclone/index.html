<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="rclone"><meta name="keywords" content=""><meta name="author" content="Ray Qu"><meta name="copyright" content="Ray Qu"><title>rclone | My Notes</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.7.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.7.0"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"We didn't find any results for the search: ${query}"}},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  }
} </script><meta name="generator" content="Hexo 7.3.0"></head><body><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="Toggle article">Toggle site</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">Catalog</div><div class="sidebar-toc__progress"><span class="progress-notice">You've read</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#mount-umount"><span class="toc-number">2.</span> <span class="toc-text">mount&#x2F;umount</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E8%87%AA%E5%8A%A8%E8%BF%90%E8%A1%8C"><span class="toc-number">3.</span> <span class="toc-text">设置开机自动运行</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SMB"><span class="toc-number">4.</span> <span class="toc-text">SMB</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">Ray Qu</div><div class="author-info__description text-center">My Tech Notes and Other stuff</div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">Articles</span><span class="pull-right">76</span></a></div></div></div><div id="content-outer"><div class="no-bg" id="top-container"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">My Notes</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/about.html">About</a><a class="site-page" href="/contact.html">Contact</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> Search</span></a></span></div><div id="post-info"><div id="post-title">rclone</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-09-15</time></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>用rclone在linux下mount webdav.</p>
<blockquote>
<p>rclone的项目在<a href="https://rclone.org/">https://rclone.org/</a></p>
</blockquote>
<h2 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h2><p>安装参考<a href="https://rclone.org/install/">https://rclone.org/install/</a></p>
<p>我用的是</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -v ; curl https://rclone.org/install.sh | sudo bash</span><br></pre></td></tr></table></figure>

<p>重新执行上面脚本会更新最新版本。</p>
<p>安装之后用普通用户运行</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rclone config</span><br></pre></td></tr></table></figure>

<p>进入交互式配置向导，生成配置文件~&#x2F;.config&#x2F;rclone&#x2F;rclone.conf</p>
<p>文件内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[aliyundrive]</span><br><span class="line">type = webdav</span><br><span class="line">url = http://127.0.0.1:8088</span><br><span class="line">vendor = nextcloud</span><br><span class="line">user = admin</span><br><span class="line">pass = Ekxxxxxxxxxxxxxxxxxxxxx5Bh</span><br></pre></td></tr></table></figure>

<p>配置中的aliyundrive是自己起的名字。后面mount的时候需要用到。<br><a href="http://127.0.0.1:8088/">http://127.0.0.1:8088</a> 是我用aliyundrive-webdav配置的服务器。把阿里云盘变成webdav服务。</p>
<p>vendor选择nextcloud是根据aliyundrive-webdav的说明</p>
<blockquote>
<p><a href="https://github.com/messense/aliyundrive-webdav">https://github.com/messense/aliyundrive-webdav</a></p>
</blockquote>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rclone</span><br><span class="line">由于 rclone 请求时总是会以上一个请求 URL 作为 Referer, 使用 rclone 时请使用 Web 版 refresh token 或者启动 aliyundrive-webdav 时增加 --no-redirect 参数.</span><br><span class="line"></span><br><span class="line">为了避免重复上传文件，使用 rclone 时推荐使用 Nextcloud WebDAV 模式，可以支持 sha1 checksums. 另外需要配合 --no-update-modtime 参数，否则 rclone 为了更新文件修改时间还是会强制重新上传。</span><br><span class="line"></span><br><span class="line">举个例子：</span><br><span class="line"></span><br><span class="line">rclone --no-update-modtime copy abc.pdf aliyundrive-nc://docs/</span><br></pre></td></tr></table></figure>

<h2 id="mount-umount"><a href="#mount-umount" class="headerlink" title="mount&#x2F;umount"></a>mount&#x2F;umount</h2><p>mount</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir -p ~/mnt/aliyundrive</span><br><span class="line">rclone mount aliyundrive:/ ~/mnt/aliyundrive --cache-dir /tmp --vfs-cache-mode writes --allow-non-empty --no-update-modtime</span><br></pre></td></tr></table></figure>

<p>umount</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fusermount -u ~/mnt/aliyundrive</span><br></pre></td></tr></table></figure>

<p>注: <em>在~&#x2F;tool&#x2F;bin下建了两个脚本rclone_mount_aliyundrive.sh和rclone_umount_aliyundrive.sh包含以上两条命令</em></p>
<h2 id="设置开机自动运行"><a href="#设置开机自动运行" class="headerlink" title="设置开机自动运行"></a>设置开机自动运行</h2><p>注: <em>需要找到方法确保服务在docker container “aliyunwebdav”之后运行。暂时disable以下user service,改用脚本手工启动停止rclone</em></p>
<p>创建~&#x2F;.config&#x2F;systemd&#x2F;user&#x2F;rclone_aliyundrive.service文件</p>
<p>内容如下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"># User service for Rclone mounting</span><br><span class="line">#</span><br><span class="line"># Place in ~/.config/systemd/user/</span><br><span class="line"># As your normal user, run </span><br><span class="line">#   systemctl --user daemon-reload</span><br><span class="line">#   systemctl --user enable rclone_aliyundrive</span><br><span class="line">#   systemctl --user start rclone_aliyundrive</span><br><span class="line">#   systemctl --user stop rclone_aliyundrive</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[Unit]</span><br><span class="line">Description=rclone: Remote FUSE filesystem for cloud storage config aliyundrive</span><br><span class="line">Documentation=man:rclone(1)</span><br><span class="line">After=network-online.target</span><br><span class="line">Wants=network-online.target </span><br><span class="line">AssertPathIsDirectory=%h/mnt/aliyundrive</span><br><span class="line"></span><br><span class="line">[Service]</span><br><span class="line">Type=notify</span><br><span class="line">ExecStart=/usr/bin/rclone mount \</span><br><span class="line">    --config=%h/.config/rclone/rclone.conf \</span><br><span class="line">    --cache-dir /tmp \</span><br><span class="line">    --vfs-cache-mode writes \</span><br><span class="line">    --allow-non-empty \</span><br><span class="line">    aliyundrive:/02_backup %h/mnt/aliyundrive</span><br><span class="line">ExecStop=/bin/fusermount -u %h/mnt/aliyundrive</span><br><span class="line"></span><br><span class="line">[Install]</span><br><span class="line">WantedBy=default.target</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>以下命令<br>$ systemd-analyze –user verify rclone_aliyundrive.service<br>用来检查脚本<br>$  systemctl –user daemon-reload<br>reload<br>$ systemctl –user enable rclone_aliyundrive<br>enable,enable之后就可以开机自动启动<br>$ systemctl –user start rclone_aliyundrive<br>启动<br>$ systemctl –user stop rclone_aliyundrive<br>停止</p>
<h2 id="SMB"><a href="#SMB" class="headerlink" title="SMB"></a>SMB</h2><p>从1.60版本开始可以支持SMB &#x2F; CIFS</p>
<figure class="highlight console"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br></pre></td><td class="code"><pre><span class="line">user@user-ThinkPad-X201:~/tool/bin$ sudo -v ; curl https://rclone.org/install.sh | sudo bash</span><br><span class="line"><span class="meta prompt_">  % </span><span class="language-bash">Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span></span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">100  4669  100  4669    0     0   3868      0  0:00:01  0:00:01 --:--:--  3868</span><br><span class="line"></span><br><span class="line">Archive:  rclone-current-linux-amd64.zip</span><br><span class="line">   creating: tmp_unzip_dir_for_rclone/rclone-v1.61.1-linux-amd64/</span><br><span class="line">  inflating: tmp_unzip_dir_for_rclone/rclone-v1.61.1-linux-amd64/README.html  [text]  </span><br><span class="line">  inflating: tmp_unzip_dir_for_rclone/rclone-v1.61.1-linux-amd64/rclone  [binary]</span><br><span class="line">  inflating: tmp_unzip_dir_for_rclone/rclone-v1.61.1-linux-amd64/README.txt  [text]  </span><br><span class="line">  inflating: tmp_unzip_dir_for_rclone/rclone-v1.61.1-linux-amd64/rclone.1  [text]  </span><br><span class="line">  inflating: tmp_unzip_dir_for_rclone/rclone-v1.61.1-linux-amd64/git-log.txt  [text]  </span><br><span class="line">正在删除 /usr/share/man 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/zh_CN 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/zh_CN 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/sk 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/sk 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/ro 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/ro 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/fr.UTF-8 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/fr.UTF-8 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/es 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/es 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/fi 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/fi 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/eo 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/eo 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/cs 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/cs 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/hu 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/hu 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/zh_TW 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/zh_TW 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/ru 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/ru 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/sr 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/sr 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/ko 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/ko 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/tr 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/tr 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/nl 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/nl 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/id 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/id 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/fr 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/fr 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/de 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/de 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/pt_BR 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/pt_BR 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/pl 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/pl 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/el 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/el 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/ja 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/ja 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/zh 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/zh 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/ca 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/ca 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/gl 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/gl 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/pt 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/pt 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/da 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/da 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/hr 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/hr 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/sl 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/sl 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/vi 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/vi 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/nb 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/nb 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/it 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/it 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/uk 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/uk 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/sv 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/sv 下的手册页...</span><br><span class="line">正在删除 /usr/share/man/fr.ISO8859-1 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/share/man/fr.ISO8859-1 下的手册页...</span><br><span class="line">正在删除 /usr/local/man 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/local/man 下的手册页...</span><br><span class="line">正在删除 /usr/local/man/ja_JP.UTF-8 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/local/man/ja_JP.UTF-8 下的手册页...</span><br><span class="line">正在删除 /usr/local/man/ja 里的旧数据库条目...</span><br><span class="line">正在处理 /usr/local/man/ja 下的手册页...</span><br><span class="line">0 个 man 子目录包含更新的手册页。</span><br><span class="line">添加了 0 个手册页。</span><br><span class="line">添加了 0 个孤立 cat 页面。</span><br><span class="line">删除了 27 条旧数据库条目。</span><br><span class="line"></span><br><span class="line">rclone v1.61.1 has successfully installed.</span><br><span class="line">Now run &quot;rclone config&quot; for setup. Check https://rclone.org/docs/ for more details.</span><br><span class="line"></span><br><span class="line">user@user-ThinkPad-X201:~/tool/bin$ </span><br><span class="line">user@user-ThinkPad-X201:~/tool/bin$ rclone config</span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">====                 ====</span><br><span class="line">aliyundrive          webdav</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line"><span class="meta prompt_">e/n/d/r/c/s/q&gt; </span><span class="language-bash">n</span></span><br><span class="line"></span><br><span class="line">Enter name for new remote.</span><br><span class="line"><span class="meta prompt_">name&gt; </span><span class="language-bash">nas1</span></span><br><span class="line"></span><br><span class="line">Option Storage.</span><br><span class="line">Type of storage to configure.</span><br><span class="line">Choose a number from below, or type in your own value.</span><br><span class="line"> 1 / 1Fichier</span><br><span class="line">   \ (fichier)</span><br><span class="line"> 2 / Akamai NetStorage</span><br><span class="line">   \ (netstorage)</span><br><span class="line"> 3 / Alias for an existing remote</span><br><span class="line">   \ (alias)</span><br><span class="line"> 4 / Amazon Drive</span><br><span class="line">   \ (amazon cloud drive)</span><br><span class="line"> 5 / Amazon S3 Compliant Storage Providers including AWS, Alibaba, Ceph, China Mobile, Cloudflare, ArvanCloud, DigitalOcean, Dreamhost, Huawei OBS, IBM COS, IDrive e2, IONOS Cloud, Liara, Lyve Cloud, Minio, Netease, RackCorp, Scaleway, SeaweedFS, StackPath, Storj, Tencent COS, Qiniu and Wasabi</span><br><span class="line">   \ (s3)</span><br><span class="line"> 6 / Backblaze B2</span><br><span class="line">   \ (b2)</span><br><span class="line"> 7 / Better checksums for other remotes</span><br><span class="line">   \ (hasher)</span><br><span class="line"> 8 / Box</span><br><span class="line">   \ (box)</span><br><span class="line"> 9 / Cache a remote</span><br><span class="line">   \ (cache)</span><br><span class="line">10 / Citrix Sharefile</span><br><span class="line">   \ (sharefile)</span><br><span class="line">11 / Combine several remotes into one</span><br><span class="line">   \ (combine)</span><br><span class="line">12 / Compress a remote</span><br><span class="line">   \ (compress)</span><br><span class="line">13 / Dropbox</span><br><span class="line">   \ (dropbox)</span><br><span class="line">14 / Encrypt/Decrypt a remote</span><br><span class="line">   \ (crypt)</span><br><span class="line">15 / Enterprise File Fabric</span><br><span class="line">   \ (filefabric)</span><br><span class="line">16 / FTP</span><br><span class="line">   \ (ftp)</span><br><span class="line">17 / Google Cloud Storage (this is not Google Drive)</span><br><span class="line">   \ (google cloud storage)</span><br><span class="line">18 / Google Drive</span><br><span class="line">   \ (drive)</span><br><span class="line">19 / Google Photos</span><br><span class="line">   \ (google photos)</span><br><span class="line">20 / HTTP</span><br><span class="line">   \ (http)</span><br><span class="line">21 / Hadoop distributed file system</span><br><span class="line">   \ (hdfs)</span><br><span class="line">22 / HiDrive</span><br><span class="line">   \ (hidrive)</span><br><span class="line">23 / In memory object storage system.</span><br><span class="line">   \ (memory)</span><br><span class="line">24 / Internet Archive</span><br><span class="line">   \ (internetarchive)</span><br><span class="line">25 / Jottacloud</span><br><span class="line">   \ (jottacloud)</span><br><span class="line">26 / Koofr, Digi Storage and other Koofr-compatible storage providers</span><br><span class="line">   \ (koofr)</span><br><span class="line">27 / Local Disk</span><br><span class="line">   \ (local)</span><br><span class="line">28 / Mail.ru Cloud</span><br><span class="line">   \ (mailru)</span><br><span class="line">29 / Mega</span><br><span class="line">   \ (mega)</span><br><span class="line">30 / Microsoft Azure Blob Storage</span><br><span class="line">   \ (azureblob)</span><br><span class="line">31 / Microsoft OneDrive</span><br><span class="line">   \ (onedrive)</span><br><span class="line">32 / OpenDrive</span><br><span class="line">   \ (opendrive)</span><br><span class="line">33 / OpenStack Swift (Rackspace Cloud Files, Memset Memstore, OVH)</span><br><span class="line">   \ (swift)</span><br><span class="line">34 / Oracle Cloud Infrastructure Object Storage</span><br><span class="line">   \ (oracleobjectstorage)</span><br><span class="line">35 / Pcloud</span><br><span class="line">   \ (pcloud)</span><br><span class="line">36 / Put.io</span><br><span class="line">   \ (putio)</span><br><span class="line">37 / QingCloud Object Storage</span><br><span class="line">   \ (qingstor)</span><br><span class="line">38 / SMB / CIFS</span><br><span class="line">   \ (smb)</span><br><span class="line">39 / SSH/SFTP</span><br><span class="line">   \ (sftp)</span><br><span class="line">40 / Sia Decentralized Cloud</span><br><span class="line">   \ (sia)</span><br><span class="line">41 / Storj Decentralized Cloud Storage</span><br><span class="line">   \ (storj)</span><br><span class="line">42 / Sugarsync</span><br><span class="line">   \ (sugarsync)</span><br><span class="line">43 / Transparently chunk/split large files</span><br><span class="line">   \ (chunker)</span><br><span class="line">44 / Union merges the contents of several upstream fs</span><br><span class="line">   \ (union)</span><br><span class="line">45 / Uptobox</span><br><span class="line">   \ (uptobox)</span><br><span class="line">46 / WebDAV</span><br><span class="line">   \ (webdav)</span><br><span class="line">47 / Yandex Disk</span><br><span class="line">   \ (yandex)</span><br><span class="line">48 / Zoho</span><br><span class="line">   \ (zoho)</span><br><span class="line">49 / premiumize.me</span><br><span class="line">   \ (premiumizeme)</span><br><span class="line">50 / seafile</span><br><span class="line">   \ (seafile)</span><br><span class="line"><span class="meta prompt_">Storage&gt; </span><span class="language-bash">38</span></span><br><span class="line"></span><br><span class="line">Option host.</span><br><span class="line">SMB server hostname to connect to.</span><br><span class="line">E.g. &quot;example.com&quot;.</span><br><span class="line">Enter a value.</span><br><span class="line"><span class="meta prompt_">host&gt; </span><span class="language-bash">192.168.1.1</span></span><br><span class="line"></span><br><span class="line">Option user.</span><br><span class="line">SMB username.</span><br><span class="line">Enter a string value. Press Enter for the default (user).</span><br><span class="line"><span class="meta prompt_">user&gt; </span><span class="language-bash">user</span></span><br><span class="line"></span><br><span class="line">Option port.</span><br><span class="line">SMB port number.</span><br><span class="line">Enter a signed integer. Press Enter for the default (445).</span><br><span class="line"><span class="meta prompt_">port&gt; </span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span></span><br><span class="line">Option pass.</span><br><span class="line">SMB password.</span><br><span class="line">Choose an alternative below. Press Enter for the default (n).</span><br><span class="line">y) Yes, type in my own password</span><br><span class="line">g) Generate random password</span><br><span class="line">n) No, leave this optional password blank (default)</span><br><span class="line"><span class="meta prompt_">y/g/n&gt; </span><span class="language-bash">y</span></span><br><span class="line">Enter the password:</span><br><span class="line">password:</span><br><span class="line">Confirm the password:</span><br><span class="line">password:</span><br><span class="line"></span><br><span class="line">Option domain.</span><br><span class="line">Domain name for NTLM authentication.</span><br><span class="line">Enter a string value. Press Enter for the default (WORKGROUP).</span><br><span class="line"><span class="meta prompt_">domain&gt; </span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span></span><br><span class="line">Edit advanced config?</span><br><span class="line">y) Yes</span><br><span class="line">n) No (default)</span><br><span class="line"><span class="meta prompt_">y/n&gt; </span><span class="language-bash"></span></span><br><span class="line"><span class="language-bash"></span></span><br><span class="line">Configuration complete.</span><br><span class="line">Options:</span><br><span class="line">- type: smb</span><br><span class="line">- host: 192.168.1.1</span><br><span class="line">- pass: *** ENCRYPTED ***</span><br><span class="line">Keep this &quot;nas1&quot; remote?</span><br><span class="line">y) Yes this is OK (default)</span><br><span class="line">e) Edit this remote</span><br><span class="line">d) Delete this remote</span><br><span class="line"><span class="meta prompt_">y/e/d&gt; </span><span class="language-bash">y</span></span><br><span class="line"></span><br><span class="line">Current remotes:</span><br><span class="line"></span><br><span class="line">Name                 Type</span><br><span class="line">====                 ====</span><br><span class="line">aliyundrive          webdav</span><br><span class="line">nas1                 smb</span><br><span class="line"></span><br><span class="line">e) Edit existing remote</span><br><span class="line">n) New remote</span><br><span class="line">d) Delete remote</span><br><span class="line">r) Rename remote</span><br><span class="line">c) Copy remote</span><br><span class="line">s) Set configuration password</span><br><span class="line">q) Quit config</span><br><span class="line"><span class="meta prompt_">e/n/d/r/c/s/q&gt; </span><span class="language-bash">q</span></span><br><span class="line">user@user-ThinkPad-X201:~/tool/bin$ cd ~/mnt</span><br><span class="line">user@user-ThinkPad-X201:~/mnt$ ls -l</span><br><span class="line">总用量 8</span><br><span class="line">drwxrwxr-x 1 user user    0 2月  13 12:32 aliyundrive</span><br><span class="line">drwxrwxr-x 3 user user 4096 2月   9 08:48 CloudNAS</span><br><span class="line">drwxrwxr-x 2 user user 4096 10月 16 08:27 nfs1</span><br><span class="line">user@user-ThinkPad-X201:~/mnt$ mkdir nas1</span><br><span class="line">user@user-ThinkPad-X201:~/mnt$ rclone mount nas1:/ ~/mnt/nas1</span><br></pre></td></tr></table></figure>
</div></article><div class="post-meta__tag-list"></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/10/03/router-stuff/"><i class="fa fa-chevron-left">  </i><span>路由器相关</span></a></div><div class="next-post pull-right"><a href="/2022/09/13/aliyundrive-webdav/"><span>用aliyundrive-webdav在linux下访问阿里云盘</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer><div class="layout" id="footer"><div class="copyright">&copy;2018 - 2025 By Ray Qu</div><div class="framework-info"><span>Driven - </span><a href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>Theme - </span><a href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.7.0"></script><script src="/js/fancybox.js?version=1.7.0"></script><script src="/js/sidebar.js?version=1.7.0"></script><script src="/js/copy.js?version=1.7.0"></script><script src="/js/fireworks.js?version=1.7.0"></script><script src="/js/transition.js?version=1.7.0"></script><script src="/js/scroll.js?version=1.7.0"></script><script src="/js/head.js?version=1.7.0"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">Local search</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="Search for Posts"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>Powered by</span> <a href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>